{
  "database": "flowgrid",
  "collections": {
    "users": {
      "description": "User + Employee combined collection",
      "structure": {
        "email": "string (Primary Key)",
        "name": "string",
        "role": "string (admin, sales_manager, sales_rep, inventory_manager, accountant)",
        "employee": {
          "department": "string",
          "position": "string",
          "hireDate": "datetime",
          "salary": "number"
        }
      },
      "indexes": [
        "email (unique)",
        "role"
      ]
    },
    "customers": {
      "description": "Customer information collection",
      "structure": {
        "name": "string",
        "email": "string",
        "phone": "string",
        "status": "string (active, premium, inactive)",
        "company": "string",
        "address": {
          "street": "string",
          "city": "string",
          "state": "string",
          "zipCode": "string"
        },
        "createdAt": "datetime",
        "totalOrders": "number",
        "totalValue": "number"
      },
      "indexes": [
        "email (unique)",
        "status",
        "company"
      ]
    },
    "products": {
      "description": "Product catalog collection",
      "structure": {
        "sku": "string (Primary Key)",
        "name": "string",
        "price": "number",
        "stock": "number",
        "category": "string",
        "description": "string",
        "status": "string (active, inactive, out_of_stock, low_stock)",
        "createdAt": "datetime",
        "updatedAt": "datetime"
      },
      "indexes": [
        "sku (unique)",
        "category",
        "status",
        "price"
      ]
    },
    "employees": {
      "description": "Employee + Payroll/HR combined collection",
      "structure": {
        "employeeId": "string (Primary Key)",
        "userId": "string (Foreign Key to users)",
        "name": "string",
        "email": "string",
        "phone": "string",
        "department": "string",
        "position": "string",
        "hireDate": "datetime",
        "baseSalary": "number (Annual salary in INR)",
        "status": "string (active, inactive, terminated)",
        "address": {
          "street": "string",
          "city": "string",
          "state": "string",
          "pincode": "string"
        },
        "payroll": [
          {
            "payrollId": "string",
            "payPeriodStart": "datetime",
            "payPeriodEnd": "datetime",
            "baseSalary": "number (Monthly base salary)",
            "overtimePay": "number",
            "bonuses": "number",
            "grossPay": "number",
            "taxDeduction": "number",
            "insuranceDeduction": "number",
            "netPay": "number",
            "status": "string (paid, pending, failed)",
            "payDate": "datetime"
          }
        ],
        "leaveRequests": [
          {
            "leaveId": "string",
            "type": "string (Annual Leave, Sick Leave, Maternity Leave, Personal Leave)",
            "startDate": "datetime",
            "endDate": "datetime",
            "days": "number",
            "status": "string (approved, pending, rejected)",
            "reason": "string",
            "appliedDate": "datetime"
          }
        ]
      },
      "indexes": [
        "employeeId (unique)",
        "userId (unique)",
        "email (unique)",
        "department",
        "status",
        "payroll.payrollId",
        "leaveRequests.leaveId"
      ]
    },
    "orders": {
      "description": "Order + Order_Item + Invoice combined collection",
      "structure": {
        "orderId": "string (Primary Key)",
        "customerId": "string (Foreign Key to customers)",
        "customerEmail": "string",
        "status": "string (pending, processing, shipped, completed, cancelled)",
        "orderDate": "datetime",
        "total": "number",
        "shippingAddress": {
          "street": "string",
          "city": "string",
          "state": "string",
          "zipCode": "string"
        },
        "orderItems": [
          {
            "productSku": "string (Foreign Key to products)",
            "productName": "string",
            "quantity": "number",
            "unitPrice": "number",
            "lineTotal": "number"
          }
        ],
        "invoice": {
          "invoiceNumber": "string",
          "amount": "number",
          "status": "string (pending, paid, overdue, cancelled)",
          "dueDate": "datetime",
          "paidDate": "datetime (nullable)",
          "paymentMethod": "string (nullable)"
        }
      },
      "indexes": [
        "orderId (unique)",
        "customerId",
        "customerEmail",
        "status",
        "orderDate",
        "invoice.invoiceNumber (unique)"
      ]
    }
  },
  "relationships": {
    "users_to_employees": {
      "type": "one-to-one",
      "description": "Each user can optionally be an employee",
      "from": "users.email",
      "to": "employees.userId"
    },
    "customers_to_orders": {
      "type": "one-to-many",
      "description": "Each customer can have multiple orders",
      "from": "customers.name",
      "to": "orders.customerId"
    },
    "products_to_orderItems": {
      "type": "one-to-many",
      "description": "Each product can be in multiple order items",
      "from": "products.sku",
      "to": "orders.orderItems.productSku"
    }
  },
  "data_types": {
    "string": "Text data",
    "number": "Numeric data (integers and decimals)",
    "datetime": "Date and time values",
    "array": "List of items (denoted by [])",
    "object": "Nested document structure (denoted by {})",
    "nullable": "Can be null/empty"
  },
  "validation_rules": {
    "email": "Must be valid email format",
    "phone": "Must follow phone number format",
    "amounts": "Must be positive numbers",
    "dates": "Must be valid datetime format",
    "status": "Must be from predefined enum values",
    "required_fields": [
      "users: email, name, role",
      "customers: name, email, status",
      "products: sku, name, price, stock",
      "employees: employeeId, userId, name, email, department, position",
      "orders: orderId, customerId, status, orderDate, total"
    ]
  }
}
